import"../chunks/DsnmJJEf.js";import"../chunks/DLBlw1-v.js";import{i as oa,j as _t,k as sa,g as b,aF as la,l as ua,H as fa,s as je,m as tr,n as ee,x as Xt,W as ca,ao as ha,p as pe,t as da,q as pa,T as ga,o as va,aP as K,Q as nr,al as Qr,ab as ma,aT as _a,v as Wr,w as wa,aU as xa,aV as ya,aW as re,a2 as Jr,a8 as Sa,aX as Ma,ak as Ea,aY as ba,V as jr,aZ as Na,a_ as $a,a$ as Aa,b0 as ka,E as Ta,b1 as Ra,b2 as Ca,y as za,b as Fa,b3 as Ia,ad as ti,b4 as Pa,A as Da,G as Ut,b5 as La,b6 as Ha,I as ni,J as bt,F as Q,L as ei,aH as O,M as L,O as V,N as H,b7 as Jn,K as wt,B as Mn,C as En,b8 as qa,b9 as Oa,a3 as er}from"../chunks/DG0MA2v8.js";import{a as Ba,o as Cn,e as xt,s as rt,b as Xa}from"../chunks/f6gYSr3R.js";import{i as It,b as ri}from"../chunks/DvvRywhe.js";import{i as ii}from"../chunks/Ib_x70ua.js";import{b as Ua}from"../chunks/CtW9aMAs.js";function bn(t,n){return n}function Ya(t,n,e){for(var r=t.items,i=[],a=n.length,o=0;o<a;o++)Ma(n[o].e,i,!0);var s=a>0&&i.length===0&&e!==null;if(s){var c=e.parentNode;Ea(c),c.append(e),r.clear(),ht(t,n[0].prev,n[a-1].next)}ba(i,()=>{for(var l=0;l<a;l++){var u=n[l];s||(r.delete(u.k),ht(t,u.prev,u.next)),Jr(u.e,!s)}})}function Nn(t,n,e,r,i,a=null){var o=t,s={flags:n,items:new Map,first:null};_t&&sa();var c=null,l=!1,u=new Map,f=la(()=>{var g=e();return ma(g)?g:g==null?[]:Qr(g)}),h,d;function p(){Ga(d,h,s,u,o,i,n,r,e),a!==null&&(h.length===0?c?Wr(c):c=pe(()=>a(o)):c!==null&&wa(c,()=>{c=null}))}oa(()=>{d??=jr,h=b(f);var g=h.length;if(l&&g===0)return;l=g===0;let w=!1;if(_t){var N=ua(o)===fa;N!==(g===0)&&(o=je(),tr(o),ee(!1),w=!0)}if(_t){for(var S=null,y,_=0;_<g;_++){if(Xt.nodeType===ca&&Xt.data===ha){o=Xt,w=!0,ee(!1);break}var x=h[_],M=r(x,_);y=ge(Xt,s,S,null,x,M,_,i,n,e),s.items.set(M,y),S=y}g>0&&tr(je())}if(_t)g===0&&a&&(c=pe(()=>a(o)));else if(da()){var k=new Set,R=pa;for(_=0;_<g;_+=1){x=h[_],M=r(x,_);var $=s.items.get(M)??u.get(M);$?ai($,x,_):(y=ge(null,s,null,null,x,M,_,i,n,e,!0),u.set(M,y)),k.add(M)}for(const[E,v]of s.items)k.has(E)||R.skipped_effects.add(v.e);R.add_callback(p)}else p();w&&ee(!0),b(f)}),_t&&(o=Xt)}function Ga(t,n,e,r,i,a,o,s,c){var l=n.length,u=e.items,f=e.first,h=f,d,p=null,g=[],w=[],N,S,y,_;for(_=0;_<l;_+=1){if(N=n[_],S=s(N,_),y=u.get(S),y===void 0){var x=r.get(S);if(x!==void 0){r.delete(S),u.set(S,x);var M=p?p.next:h;ht(e,p,x),ht(e,x,M),ie(x,M,i),p=x}else{var k=h?h.e.nodes_start:i;p=ge(k,e,p,p===null?e.first:p.next,N,S,_,a,o,c)}u.set(S,p),g=[],w=[],h=p.next;continue}if(ai(y,N,_),(y.e.f&re)!==0&&Wr(y.e),y!==h){if(d!==void 0&&d.has(y)){if(g.length<w.length){var R=w[0],$;p=R.prev;var E=g[0],v=g[g.length-1];for($=0;$<g.length;$+=1)ie(g[$],R,i);for($=0;$<w.length;$+=1)d.delete(w[$]);ht(e,E.prev,v.next),ht(e,p,E),ht(e,v,R),h=R,p=v,_-=1,g=[],w=[]}else d.delete(y),ie(y,h,i),ht(e,y.prev,y.next),ht(e,y,p===null?e.first:p.next),ht(e,p,y),p=y;continue}for(g=[],w=[];h!==null&&h.k!==S;)(h.e.f&re)===0&&(d??=new Set).add(h),w.push(h),h=h.next;if(h===null)continue;y=h}g.push(y),p=y,h=y.next}if(h!==null||d!==void 0){for(var z=d===void 0?[]:Qr(d);h!==null;)(h.e.f&re)===0&&z.push(h),h=h.next;var C=z.length;if(C>0){var A=null;Ya(e,z,A)}}t.first=e.first&&e.first.e,t.last=p&&p.e;for(var m of r.values())Jr(m.e);r.clear()}function ai(t,n,e,r){ga(t.v,n),t.i=e}function ge(t,n,e,r,i,a,o,s,c,l,u){var f=(c&xa)!==0,h=(c&ya)===0,d=f?h?K(i,!1,!1):nr(i):i,p=(c&_a)===0?o:nr(o),g={i:p,v:d,k:a,a:null,e:null,prev:e,next:r};try{if(t===null){var w=document.createDocumentFragment();w.append(t=va())}return g.e=pe(()=>s(t,d,p,l),_t),g.e.prev=e&&e.e,g.e.next=r&&r.e,e===null?u||(n.first=g):(e.next=g,e.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function ie(t,n,e){for(var r=t.next?t.next.e.nodes_start:e,i=n?n.e.nodes_start:e,a=t.e.nodes_start;a!==null&&a!==r;){var o=Sa(a);i.before(a),a=o}}function ht(t,n,e){n===null?t.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function Va(t,n){return t==null?null:String(t)}function zn(t,n,e,r){var i=t.__style;if(_t||i!==n){var a=Va(n);(!_t||a!==t.getAttribute("style"))&&(a==null?t.removeAttribute("style"):t.style.cssText=a),t.__style=n}return r}const Za=Symbol("is custom element"),Ka=Symbol("is html");function Z(t,n,e,r){var i=Qa(t);_t&&(i[n]=t.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&t.nodeName==="LINK")||i[n]!==(i[n]=e)&&(n==="loading"&&(t[Na]=e),e==null?t.removeAttribute(n):typeof e!="string"&&Wa(t).includes(n)?t[n]=e:t.setAttribute(n,e))}function Qa(t){return t.__attributes??={[Za]:t.nodeName.includes("-"),[Ka]:t.namespaceURI===$a}}var rr=new Map;function Wa(t){var n=t.getAttribute("is")||t.nodeName,e=rr.get(n);if(e)return e;rr.set(n,e=[]);for(var r,i=t,a=Element.prototype;a!==i;){r=ka(i);for(var o in r)r[o].set&&e.push(o);i=Aa(i)}return e}const Ja=()=>performance.now(),yt={tick:t=>requestAnimationFrame(t),now:()=>Ja(),tasks:new Set};function oi(){const t=yt.now();yt.tasks.forEach(n=>{n.c(t)||(yt.tasks.delete(n),n.f())}),yt.tasks.size!==0&&yt.tick(oi)}function ja(t){let n;return yt.tasks.size===0&&yt.tick(oi),{promise:new Promise(e=>{yt.tasks.add(n={c:t,f:e})}),abort(){yt.tasks.delete(n)}}}function dn(t,n){ti(()=>{t.dispatchEvent(new CustomEvent(n))})}function to(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const n=t.split("-");return n.length===1?n[0]:n[0]+n.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function ir(t){const n={},e=t.split(";");for(const r of e){const[i,a]=r.split(":");if(!i||a===void 0)break;const o=to(i.trim());n[o]=a.trim()}return n}const no=t=>t;function Vt(t,n,e,r){var i=(t&La)!==0,a=(t&Ha)!==0,o=i&&a,s=(t&Ia)!==0,c=o?"both":i?"in":"out",l,u=n.inert,f=n.style.overflow,h,d;function p(){return ti(()=>l??=e()(n,r?.()??{},{direction:c}))}var g={is_global:s,in(){if(n.inert=u,!i){d?.abort(),d?.reset?.();return}a||h?.abort(),dn(n,"introstart"),h=ve(n,p(),d,1,()=>{dn(n,"introend"),h?.abort(),h=l=void 0,n.style.overflow=f})},out(y){if(!a){y?.(),l=void 0;return}n.inert=!0,dn(n,"outrostart"),d=ve(n,p(),h,0,()=>{dn(n,"outroend"),y?.()})},stop:()=>{h?.abort(),d?.abort()}},w=jr;if((w.transitions??=[]).push(g),i&&Ba){var N=s;if(!N){for(var S=w.parent;S&&(S.f&Ta)!==0;)for(;(S=S.parent)&&(S.f&Ra)===0;);N=!S||(S.f&Ca)!==0}N&&za(()=>{Fa(()=>g.in())})}}function ve(t,n,e,r,i){var a=r===1;if(Pa(n)){var o,s=!1;return Da(()=>{if(!s){var w=n({direction:a?"in":"out"});o=ve(t,w,e,r,i)}}),{abort:()=>{s=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(e?.deactivate(),!n?.duration)return i(),{abort:Ut,deactivate:Ut,reset:Ut,t:()=>r};const{delay:c=0,css:l,tick:u,easing:f=no}=n;var h=[];if(a&&e===void 0&&(u&&u(0,1),l)){var d=ir(l(0,1));h.push(d,d)}var p=()=>1-r,g=t.animate(h,{duration:c,fill:"forwards"});return g.onfinish=()=>{g.cancel();var w=e?.t()??1-r;e?.abort();var N=r-w,S=n.duration*Math.abs(N),y=[];if(S>0){var _=!1;if(l)for(var x=Math.ceil(S/16.666666666666668),M=0;M<=x;M+=1){var k=w+N*f(M/x),R=ir(l(k,1-k));y.push(R),_||=R.overflow==="hidden"}_&&(t.style.overflow="hidden"),p=()=>{var $=g.currentTime;return w+N*f($/S)},u&&ja(()=>{if(g.playState!=="running")return!1;var $=p();return u($,1-$),!0})}g=t.animate(y,{duration:S,fill:"forwards"}),g.onfinish=()=>{p=()=>r,u?.(r,1-r),i()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=Ut)},deactivate:()=>{i=Ut},reset:()=>{r===0&&u?.(1,0)},t:()=>p()}}const eo=t=>t;function ro(t){const n=t-1;return n*n*n+1}function ar(t){const n=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[t,"px"]}function pn(t,{delay:n=0,duration:e=400,easing:r=eo}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:e,easing:r,css:a=>`opacity: ${a*i}`}}function io(t,{delay:n=0,duration:e=400,easing:r=ro,x:i=0,y:a=0,opacity:o=0}={}){const s=getComputedStyle(t),c=+s.opacity,l=s.transform==="none"?"":s.transform,u=c*(1-o),[f,h]=ar(i),[d,p]=ar(a);return{delay:n,duration:e,easing:r,css:(g,w)=>`
			transform: ${l} translate(${(1-g)*f}${h}, ${(1-g)*d}${p});
			opacity: ${c-u*w}`}}function $n(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ao(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function si(t){let n,e,r;t.length!==2?(n=$n,e=(s,c)=>$n(t(s),c),r=(s,c)=>t(s)-c):(n=t===$n||t===ao?t:oo,e=t,r=t);function i(s,c,l=0,u=s.length){if(l<u){if(n(c,c)!==0)return u;do{const f=l+u>>>1;e(s[f],c)<0?l=f+1:u=f}while(l<u)}return l}function a(s,c,l=0,u=s.length){if(l<u){if(n(c,c)!==0)return u;do{const f=l+u>>>1;e(s[f],c)<=0?l=f+1:u=f}while(l<u)}return l}function o(s,c,l=0,u=s.length){const f=i(s,c,l,u-1);return f>l&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function oo(){return 0}function so(t){return t===null?NaN:+t}const lo=si($n),uo=lo.right;si(so).center;class At{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,s=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);s&&(e[r++]=s),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}const fo=Math.sqrt(50),co=Math.sqrt(10),ho=Math.sqrt(2);function Fn(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=fo?10:a>=co?5:a>=ho?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),c=Math.round(n*l),s/l<t&&++s,c/l>n&&--c,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),c=Math.round(n/l),s*l<t&&++s,c*l>n&&--c),c<s&&.5<=e&&e<2?Fn(t,n,e*2):[s,c,l]}function li(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?Fn(n,t,e):Fn(t,n,e);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)c[l]=(a-l)/-o;else for(let l=0;l<s;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(i+l)/-o;else for(let l=0;l<s;++l)c[l]=(i+l)*o;return c}function me(t,n,e){return n=+n,t=+t,e=+e,Fn(t,n,e)[2]}function po(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?me(n,t,e):me(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function or(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function*go(t){for(const n of t)yield*n}function ui(t){return Array.from(go(t))}var q=1e-6,D=Math.PI,j=D/2,sr=D/4,at=D*2,it=180/D,Y=D/180,B=Math.abs,fi=Math.atan,en=Math.atan2,X=Math.cos,vo=Math.exp,mo=Math.log,U=Math.sin,_o=Math.sign||function(t){return t>0?1:t<0?-1:0},Ct=Math.sqrt,wo=Math.tan;function xo(t){return t>1?0:t<-1?D:Math.acos(t)}function rn(t){return t>1?j:t<-1?-j:Math.asin(t)}function st(){}function In(t,n){t&&ur.hasOwnProperty(t.type)&&ur[t.type](t,n)}var lr={Feature:function(t,n){In(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)In(e[r].geometry,n)}},ur={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){_e(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)_e(e[r],n,0)},Polygon:function(t,n){fr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)fr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)In(e[r],n)}};function _e(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function fr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)_e(t[e],n,1);n.polygonEnd()}function Ft(t,n){t&&lr.hasOwnProperty(t.type)?lr[t.type](t,n):In(t,n)}function we(t){return[en(t[1],t[0]),rn(t[2])]}function Lt(t){var n=t[0],e=t[1],r=X(e);return[r*X(n),r*U(n),U(e)]}function gn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Pn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function ae(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function vn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function xe(t){var n=Ct(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ye(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Se(t,n){return B(t)>D&&(t-=Math.round(t/at)*at),[t,n]}Se.invert=Se;function ci(t,n,e){return(t%=at)?n||e?ye(hr(t),dr(n,e)):hr(t):n||e?dr(n,e):Se}function cr(t){return function(n,e){return n+=t,B(n)>D&&(n-=Math.round(n/at)*at),[n,e]}}function hr(t){var n=cr(t);return n.invert=cr(-t),n}function dr(t,n){var e=X(t),r=U(t),i=X(n),a=U(n);function o(s,c){var l=X(c),u=X(s)*l,f=U(s)*l,h=U(c),d=h*e+u*r;return[en(f*i-d*a,u*e-h*r),rn(d*i+f*a)]}return o.invert=function(s,c){var l=X(c),u=X(s)*l,f=U(s)*l,h=U(c),d=h*i-f*a;return[en(f*i+h*a,u*e+d*r),rn(d*e-u*r)]},o}function yo(t){t=ci(t[0]*Y,t[1]*Y,t.length>2?t[2]*Y:0);function n(e){return e=t(e[0]*Y,e[1]*Y),e[0]*=it,e[1]*=it,e}return n.invert=function(e){return e=t.invert(e[0]*Y,e[1]*Y),e[0]*=it,e[1]*=it,e},n}function So(t,n,e,r,i,a){if(e){var o=X(n),s=U(n),c=r*e;i==null?(i=n+r*at,a=n-c/2):(i=pr(o,i),a=pr(o,a),(r>0?i<a:i>a)&&(i+=r*at));for(var l,u=i;r>0?u>a:u<a;u-=c)l=we([o,-s*X(u),-s*U(u)]),t.point(l[0],l[1])}}function pr(t,n){n=Lt(n),n[0]-=t,xe(n);var e=xo(-n[1]);return((-n[2]<0?-e:e)+at-q)%at}function hi(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:st,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function An(t,n){return B(t[0]-n[0])<q&&B(t[1]-n[1])<q}function mn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function di(t,n,e,r,i){var a=[],o=[],s,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,w=p[0],N=p[g],S;if(An(w,N)){if(!w[2]&&!N[2]){for(i.lineStart(),s=0;s<g;++s)i.point((w=p[s])[0],w[1]);i.lineEnd();return}N[0]+=2*q}a.push(S=new mn(w,p,null,!0)),o.push(S.o=new mn(w,null,S,!1)),a.push(S=new mn(N,p,null,!1)),o.push(S.o=new mn(N,null,S,!0))}}),!!a.length){for(o.sort(n),gr(a),gr(o),s=0,c=o.length;s<c;++s)o[s].e=e=!e;for(var l=a[0],u,f;;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(s=0,c=u.length;s<c;++s)i.point((f=u[s])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((f=u[s])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);i.lineEnd()}}}function gr(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function oe(t){return B(t[0])<=D?t[0]:_o(t[0])*((B(t[0])+D)%at-D)}function Mo(t,n){var e=oe(n),r=n[1],i=U(r),a=[U(e),-X(e),0],o=0,s=0,c=new At;i===1?r=j+q:i===-1&&(r=-j-q);for(var l=0,u=t.length;l<u;++l)if(h=(f=t[l]).length)for(var f,h,d=f[h-1],p=oe(d),g=d[1]/2+sr,w=U(g),N=X(g),S=0;S<h;++S,p=_,w=M,N=k,d=y){var y=f[S],_=oe(y),x=y[1]/2+sr,M=U(x),k=X(x),R=_-p,$=R>=0?1:-1,E=$*R,v=E>D,z=w*M;if(c.add(en(z*$*U(E),N*k+z*X(E))),o+=v?R+$*at:R,v^p>=e^_>=e){var C=Pn(Lt(d),Lt(y));xe(C);var A=Pn(a,C);xe(A);var m=(v^R>=0?-1:1)*rn(A[2]);(r>m||r===m&&(C[0]||C[1]))&&(s+=v^R>=0?1:-1)}}return(o<-q||o<q&&c<-1e-12)^s&1}function pi(t,n,e,r){return function(i){var a=n(i),o=hi(),s=n(o),c=!1,l,u,f,h={point:d,lineStart:g,lineEnd:w,polygonStart:function(){h.point=N,h.lineStart=S,h.lineEnd=y,u=[],l=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=w,u=ui(u);var _=Mo(l,r);u.length?(c||(i.polygonStart(),c=!0),di(u,bo,_,e,i)):_&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,x){t(_,x)&&i.point(_,x)}function p(_,x){a.point(_,x)}function g(){h.point=p,a.lineStart()}function w(){h.point=d,a.lineEnd()}function N(_,x){f.push([_,x]),s.point(_,x)}function S(){s.lineStart(),f=[]}function y(){N(f[0][0],f[0][1]),s.lineEnd();var _=s.clean(),x=o.result(),M,k=x.length,R,$,E;if(f.pop(),l.push(f),f=null,!!k){if(_&1){if($=x[0],(R=$.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),M=0;M<R;++M)i.point((E=$[M])[0],E[1]);i.lineEnd()}return}k>1&&_&2&&x.push(x.pop().concat(x.shift())),u.push(x.filter(Eo))}}return h}}function Eo(t){return t.length>1}function bo(t,n){return((t=t.x)[0]<0?t[1]-j-q:j-t[1])-((n=n.x)[0]<0?n[1]-j-q:j-n[1])}const vr=pi(function(){return!0},No,Ao,[-D,-j]);function No(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?D:-D,c=B(a-n);B(c-D)<q?(t.point(n,e=(e+o)/2>0?j:-j),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),t.point(a,e),i=0):r!==s&&c>=D&&(B(n-r)<q&&(n-=r*q),B(a-s)<q&&(a-=s*q),e=$o(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),i=0),t.point(n=a,e=o),r=s},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function $o(t,n,e,r){var i,a,o=U(t-e);return B(o)>q?fi((U(n)*(a=X(r))*U(e)-U(r)*(i=X(n))*U(t))/(i*a*o)):(n+r)/2}function Ao(t,n,e,r){var i;if(t==null)i=e*j,r.point(-D,i),r.point(0,i),r.point(D,i),r.point(D,0),r.point(D,-i),r.point(0,-i),r.point(-D,-i),r.point(-D,0),r.point(-D,i);else if(B(t[0]-n[0])>q){var a=t[0]<n[0]?D:-D;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function ko(t){var n=X(t),e=2*Y,r=n>0,i=B(n)>q;function a(u,f,h,d){So(d,t,e,h,u,f)}function o(u,f){return X(u)*X(f)>n}function s(u){var f,h,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(w,N){var S=[w,N],y,_=o(w,N),x=r?_?0:l(w,N):_?l(w+(w<0?D:-D),N):0;if(!f&&(p=d=_)&&u.lineStart(),_!==d&&(y=c(f,S),(!y||An(f,y)||An(S,y))&&(S[2]=1)),_!==d)g=0,_?(u.lineStart(),y=c(S,f),u.point(y[0],y[1])):(y=c(f,S),u.point(y[0],y[1],2),u.lineEnd()),f=y;else if(i&&f&&r^_){var M;!(x&h)&&(M=c(S,f,!0))&&(g=0,r?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}_&&(!f||!An(f,S))&&u.point(S[0],S[1]),f=S,d=_,h=x},lineEnd:function(){d&&u.lineEnd(),f=null},clean:function(){return g|(p&&d)<<1}}}function c(u,f,h){var d=Lt(u),p=Lt(f),g=[1,0,0],w=Pn(d,p),N=gn(w,w),S=w[0],y=N-S*S;if(!y)return!h&&u;var _=n*N/y,x=-n*S/y,M=Pn(g,w),k=vn(g,_),R=vn(w,x);ae(k,R);var $=M,E=gn(k,$),v=gn($,$),z=E*E-v*(gn(k,k)-1);if(!(z<0)){var C=Ct(z),A=vn($,(-E-C)/v);if(ae(A,k),A=we(A),!h)return A;var m=u[0],T=f[0],F=u[1],I=f[1],P;T<m&&(P=m,m=T,T=P);var W=T-m,G=B(W-D)<q,nt=G||W<q;if(!G&&I<F&&(P=F,F=I,I=P),nt?G?F+I>0^A[1]<(B(A[0]-m)<q?F:I):F<=A[1]&&A[1]<=I:W>D^(m<=A[0]&&A[0]<=T)){var et=vn($,(-E+C)/v);return ae(et,k),[A,we(et)]}}}function l(u,f){var h=r?t:D-t,d=0;return u<-h?d|=1:u>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return pi(o,s,a,r?[0,-t]:[-D,t-D])}function To(t,n,e,r,i,a){var o=t[0],s=t[1],c=n[0],l=n[1],u=0,f=1,h=c-o,d=l-s,p;if(p=e-o,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=i-o,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}if(p=r-s,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=a-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}return u>0&&(t[0]=o+u*h,t[1]=s+u*d),f<1&&(n[0]=o+f*h,n[1]=s+f*d),!0}}}}}var Zt=1e9,_n=-Zt;function Ro(t,n,e,r){function i(l,u){return t<=l&&l<=e&&n<=u&&u<=r}function a(l,u,f,h){var d=0,p=0;if(l==null||(d=o(l,f))!==(p=o(u,f))||c(l,u)<0^f>0)do h.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+f+4)%4)!==p);else h.point(u[0],u[1])}function o(l,u){return B(l[0]-t)<q?u>0?0:3:B(l[0]-e)<q?u>0?2:1:B(l[1]-n)<q?u>0?1:0:u>0?3:2}function s(l,u){return c(l.x,u.x)}function c(l,u){var f=o(l,1),h=o(u,1);return f!==h?f-h:f===0?u[1]-l[1]:f===1?l[0]-u[0]:f===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,f=hi(),h,d,p,g,w,N,S,y,_,x,M,k={point:R,lineStart:z,lineEnd:C,polygonStart:E,polygonEnd:v};function R(m,T){i(m,T)&&u.point(m,T)}function $(){for(var m=0,T=0,F=d.length;T<F;++T)for(var I=d[T],P=1,W=I.length,G=I[0],nt,et,hn=G[0],zt=G[1];P<W;++P)nt=hn,et=zt,G=I[P],hn=G[0],zt=G[1],et<=r?zt>r&&(hn-nt)*(r-et)>(zt-et)*(t-nt)&&++m:zt<=r&&(hn-nt)*(r-et)<(zt-et)*(t-nt)&&--m;return m}function E(){u=f,h=[],d=[],M=!0}function v(){var m=$(),T=M&&m,F=(h=ui(h)).length;(T||F)&&(l.polygonStart(),T&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),F&&di(h,s,m,a,l),l.polygonEnd()),u=l,h=d=p=null}function z(){k.point=A,d&&d.push(p=[]),x=!0,_=!1,S=y=NaN}function C(){h&&(A(g,w),N&&_&&f.rejoin(),h.push(f.result())),k.point=R,_&&u.lineEnd()}function A(m,T){var F=i(m,T);if(d&&p.push([m,T]),x)g=m,w=T,N=F,x=!1,F&&(u.lineStart(),u.point(m,T));else if(F&&_)u.point(m,T);else{var I=[S=Math.max(_n,Math.min(Zt,S)),y=Math.max(_n,Math.min(Zt,y))],P=[m=Math.max(_n,Math.min(Zt,m)),T=Math.max(_n,Math.min(Zt,T))];To(I,P,t,n,e,r)?(_||(u.lineStart(),u.point(I[0],I[1])),u.point(P[0],P[1]),F||u.lineEnd(),M=!1):F&&(u.lineStart(),u.point(m,T),M=!1)}S=m,y=T,_=F}return k}}const Me=t=>t;var se=new At,Ee=new At,gi,vi,be,Ne,St={point:st,lineStart:st,lineEnd:st,polygonStart:function(){St.lineStart=Co,St.lineEnd=Fo},polygonEnd:function(){St.lineStart=St.lineEnd=St.point=st,se.add(B(Ee)),Ee=new At},result:function(){var t=se/2;return se=new At,t}};function Co(){St.point=zo}function zo(t,n){St.point=mi,gi=be=t,vi=Ne=n}function mi(t,n){Ee.add(Ne*t-be*n),be=t,Ne=n}function Fo(){mi(gi,vi)}var Ht=1/0,Dn=Ht,an=-Ht,Ln=an,Hn={point:Io,lineStart:st,lineEnd:st,polygonStart:st,polygonEnd:st,result:function(){var t=[[Ht,Dn],[an,Ln]];return an=Ln=-(Dn=Ht=1/0),t}};function Io(t,n){t<Ht&&(Ht=t),t>an&&(an=t),n<Dn&&(Dn=n),n>Ln&&(Ln=n)}var $e=0,Ae=0,Kt=0,qn=0,On=0,Pt=0,ke=0,Te=0,Qt=0,_i,wi,dt,pt,ot={point:kt,lineStart:mr,lineEnd:_r,polygonStart:function(){ot.lineStart=Lo,ot.lineEnd=Ho},polygonEnd:function(){ot.point=kt,ot.lineStart=mr,ot.lineEnd=_r},result:function(){var t=Qt?[ke/Qt,Te/Qt]:Pt?[qn/Pt,On/Pt]:Kt?[$e/Kt,Ae/Kt]:[NaN,NaN];return $e=Ae=Kt=qn=On=Pt=ke=Te=Qt=0,t}};function kt(t,n){$e+=t,Ae+=n,++Kt}function mr(){ot.point=Po}function Po(t,n){ot.point=Do,kt(dt=t,pt=n)}function Do(t,n){var e=t-dt,r=n-pt,i=Ct(e*e+r*r);qn+=i*(dt+t)/2,On+=i*(pt+n)/2,Pt+=i,kt(dt=t,pt=n)}function _r(){ot.point=kt}function Lo(){ot.point=qo}function Ho(){xi(_i,wi)}function qo(t,n){ot.point=xi,kt(_i=dt=t,wi=pt=n)}function xi(t,n){var e=t-dt,r=n-pt,i=Ct(e*e+r*r);qn+=i*(dt+t)/2,On+=i*(pt+n)/2,Pt+=i,i=pt*t-dt*n,ke+=i*(dt+t),Te+=i*(pt+n),Qt+=i*3,kt(dt=t,pt=n)}function yi(t){this._context=t}yi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,at);break}}},result:st};var Re=new At,le,Si,Mi,Wt,Jt,on={point:st,lineStart:function(){on.point=Oo},lineEnd:function(){le&&Ei(Si,Mi),on.point=st},polygonStart:function(){le=!0},polygonEnd:function(){le=null},result:function(){var t=+Re;return Re=new At,t}};function Oo(t,n){on.point=Ei,Si=Wt=t,Mi=Jt=n}function Ei(t,n){Wt-=t,Jt-=n,Re.add(Ct(Wt*Wt+Jt*Jt)),Wt=t,Jt=n}let wr,Bn,xr,yr;class Sr{constructor(n){this._append=n==null?bi:Bo(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==xr||this._append!==Bn){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,xr=r,Bn=this._append,yr=this._,this._=i}this._+=yr;break}}}result(){const n=this._;return this._="",n.length?n:null}}function bi(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Bo(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return bi;if(n!==wr){const e=10**n;wr=n,Bn=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return Bn}function Ni(t,n){let e=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Ft(s,i(a))),a.result()}return o.area=function(s){return Ft(s,i(St)),St.result()},o.measure=function(s){return Ft(s,i(on)),on.result()},o.bounds=function(s){return Ft(s,i(Hn)),Hn.result()},o.centroid=function(s){return Ft(s,i(ot)),ot.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Me):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(n=null,new Sr(e)):new yi(n=s),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);e=c}return n===null&&(a=new Sr(e)),o},o.projection(t).digits(e).context(n)}function Oe(t){return function(n){var e=new Ce;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ce(){}Ce.prototype={constructor:Ce,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Be(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ft(e,t.stream(Hn)),n(Hn.result()),r!=null&&t.clipExtent(r),t}function $i(t,n,e){return Be(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,c])},e)}function Xo(t,n,e){return $i(t,[[0,0],n],e)}function Uo(t,n,e){return Be(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},e)}function Yo(t,n,e){return Be(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},e)}var Mr=16,Go=X(30*Y);function Er(t,n){return+n?Zo(t,n):Vo(t)}function Vo(t){return Oe({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Zo(t,n){function e(r,i,a,o,s,c,l,u,f,h,d,p,g,w){var N=l-r,S=u-i,y=N*N+S*S;if(y>4*n&&g--){var _=o+h,x=s+d,M=c+p,k=Ct(_*_+x*x+M*M),R=rn(M/=k),$=B(B(M)-1)<q||B(a-f)<q?(a+f)/2:en(x,_),E=t($,R),v=E[0],z=E[1],C=v-r,A=z-i,m=S*C-N*A;(m*m/y>n||B((N*C+S*A)/y-.5)>.3||o*h+s*d+c*p<Go)&&(e(r,i,a,o,s,c,v,z,$,_/=k,x/=k,M,g,w),w.point(v,z),e(v,z,$,_,x,M,l,u,f,h,d,p,g,w))}}return function(r){var i,a,o,s,c,l,u,f,h,d,p,g,w={point:N,lineStart:S,lineEnd:_,polygonStart:function(){r.polygonStart(),w.lineStart=x},polygonEnd:function(){r.polygonEnd(),w.lineStart=S}};function N(R,$){R=t(R,$),r.point(R[0],R[1])}function S(){f=NaN,w.point=y,r.lineStart()}function y(R,$){var E=Lt([R,$]),v=t(R,$);e(f,h,u,d,p,g,f=v[0],h=v[1],u=R,d=E[0],p=E[1],g=E[2],Mr,r),r.point(f,h)}function _(){w.point=N,r.lineEnd()}function x(){S(),w.point=M,w.lineEnd=k}function M(R,$){y(i=R,$),a=f,o=h,s=d,c=p,l=g,w.point=y}function k(){e(f,h,u,d,p,g,a,o,i,s,c,l,Mr,r),w.lineEnd=_,_()}return w}}var Ko=Oe({point:function(t,n){this.stream.point(t*Y,n*Y)}});function Qo(t){return Oe({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Wo(t,n,e,r,i){function a(o,s){return o*=r,s*=i,[n+t*o,e-t*s]}return a.invert=function(o,s){return[(o-n)/t*r,(e-s)/t*i]},a}function br(t,n,e,r,i,a){if(!a)return Wo(t,n,e,r,i);var o=X(a),s=U(a),c=o*t,l=s*t,u=o/t,f=s/t,h=(s*e-o*n)/t,d=(s*n+o*e)/t;function p(g,w){return g*=r,w*=i,[c*g-l*w+n,e-l*g-c*w]}return p.invert=function(g,w){return[r*(u*g-f*w+h),i*(d-f*g-u*w)]},p}function Jo(t){return jo(function(){return t})()}function jo(t){var n,e=150,r=480,i=250,a=0,o=0,s=0,c=0,l=0,u,f=0,h=1,d=1,p=null,g=vr,w=null,N,S,y,_=Me,x=.5,M,k,R,$,E;function v(m){return R(m[0]*Y,m[1]*Y)}function z(m){return m=R.invert(m[0],m[1]),m&&[m[0]*it,m[1]*it]}v.stream=function(m){return $&&E===m?$:$=Ko(Qo(u)(g(M(_(E=m)))))},v.preclip=function(m){return arguments.length?(g=m,p=void 0,A()):g},v.postclip=function(m){return arguments.length?(_=m,w=N=S=y=null,A()):_},v.clipAngle=function(m){return arguments.length?(g=+m?ko(p=m*Y):(p=null,vr),A()):p*it},v.clipExtent=function(m){return arguments.length?(_=m==null?(w=N=S=y=null,Me):Ro(w=+m[0][0],N=+m[0][1],S=+m[1][0],y=+m[1][1]),A()):w==null?null:[[w,N],[S,y]]},v.scale=function(m){return arguments.length?(e=+m,C()):e},v.translate=function(m){return arguments.length?(r=+m[0],i=+m[1],C()):[r,i]},v.center=function(m){return arguments.length?(a=m[0]%360*Y,o=m[1]%360*Y,C()):[a*it,o*it]},v.rotate=function(m){return arguments.length?(s=m[0]%360*Y,c=m[1]%360*Y,l=m.length>2?m[2]%360*Y:0,C()):[s*it,c*it,l*it]},v.angle=function(m){return arguments.length?(f=m%360*Y,C()):f*it},v.reflectX=function(m){return arguments.length?(h=m?-1:1,C()):h<0},v.reflectY=function(m){return arguments.length?(d=m?-1:1,C()):d<0},v.precision=function(m){return arguments.length?(M=Er(k,x=m*m),A()):Ct(x)},v.fitExtent=function(m,T){return $i(v,m,T)},v.fitSize=function(m,T){return Xo(v,m,T)},v.fitWidth=function(m,T){return Uo(v,m,T)},v.fitHeight=function(m,T){return Yo(v,m,T)};function C(){var m=br(e,0,0,h,d,f).apply(null,n(a,o)),T=br(e,r-m[0],i-m[1],h,d,f);return u=ci(s,c,l),k=ye(n,T),R=ye(u,k),M=Er(k,x),A()}function A(){return $=E=null,v}return function(){return n=t.apply(this,arguments),v.invert=n.invert&&z,C()}}function Xe(t,n){return[t,mo(wo((j+n)/2))]}Xe.invert=function(t,n){return[t,2*fi(vo(n))-j]};function Ai(){return ts(Xe).scale(961/at)}function ts(t){var n=Jo(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,s,c,l;n.scale=function(f){return arguments.length?(r(f),u()):r()},n.translate=function(f){return arguments.length?(i(f),u()):i()},n.center=function(f){return arguments.length?(e(f),u()):e()},n.clipExtent=function(f){return arguments.length?(f==null?o=s=c=l=null:(o=+f[0][0],s=+f[0][1],c=+f[1][0],l=+f[1][1]),u()):o==null?null:[[o,s],[c,l]]};function u(){var f=D*r(),h=n(yo(n.rotate()).invert([0,0]));return a(o==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===Xe?[[Math.max(h[0]-f,o),s],[Math.min(h[0]+f,c),l]]:[[o,Math.max(h[1]-f,s)],[c,Math.min(h[1]+f,l)]])}return u()}var Nr={},ue={},fe=34,Yt=10,ce=13;function ki(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function ns(t,n){var e=ki(t);return function(r,i){return n(e(r),i,t)}}function $r(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function J(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function es(t){return t<0?"-"+J(-t,6):t>9999?"+"+J(t,6):J(t,4)}function rs(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":es(t.getUTCFullYear())+"-"+J(t.getUTCMonth()+1,2)+"-"+J(t.getUTCDate(),2)+(i?"T"+J(n,2)+":"+J(e,2)+":"+J(r,2)+"."+J(i,3)+"Z":r?"T"+J(n,2)+":"+J(e,2)+":"+J(r,2)+"Z":e||n?"T"+J(n,2)+":"+J(e,2)+"Z":"")}function is(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(f,h){var d,p,g=i(f,function(w,N){if(d)return d(w,N-1);p=w,d=h?ns(w,h):ki(w)});return g.columns=p||[],g}function i(f,h){var d=[],p=f.length,g=0,w=0,N,S=p<=0,y=!1;f.charCodeAt(p-1)===Yt&&--p,f.charCodeAt(p-1)===ce&&--p;function _(){if(S)return ue;if(y)return y=!1,Nr;var M,k=g,R;if(f.charCodeAt(k)===fe){for(;g++<p&&f.charCodeAt(g)!==fe||f.charCodeAt(++g)===fe;);return(M=g)>=p?S=!0:(R=f.charCodeAt(g++))===Yt?y=!0:R===ce&&(y=!0,f.charCodeAt(g)===Yt&&++g),f.slice(k+1,M-1).replace(/""/g,'"')}for(;g<p;){if((R=f.charCodeAt(M=g++))===Yt)y=!0;else if(R===ce)y=!0,f.charCodeAt(g)===Yt&&++g;else if(R!==e)continue;return f.slice(k,M)}return S=!0,f.slice(k,p)}for(;(N=_())!==ue;){for(var x=[];N!==Nr&&N!==ue;)x.push(N),N=_();h&&(x=h(x,w++))==null||d.push(x)}return d}function a(f,h){return f.map(function(d){return h.map(function(p){return u(d[p])}).join(t)})}function o(f,h){return h==null&&(h=$r(f)),[h.map(u).join(t)].concat(a(f,h)).join(`
`)}function s(f,h){return h==null&&(h=$r(f)),a(f,h).join(`
`)}function c(f){return f.map(l).join(`
`)}function l(f){return f.map(u).join(t)}function u(f){return f==null?"":f instanceof Date?rs(f):n.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:c,formatRow:l,formatValue:u}}var as=is(","),os=as.parse;function ss(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ls(t,n){return fetch(t,n).then(ss)}function us(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),ls(n,e).then(function(i){return t(i,r)})}}var Ti=us(os),fs={value:()=>{}};function Ri(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new kn(e)}function kn(t){this._=t}function cs(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}kn.prototype=Ri.prototype={constructor:kn,on:function(t,n){var e=this._,r=cs(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=hs(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=Ar(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Ar(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new kn(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function hs(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Ar(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=fs,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var ze="http://www.w3.org/1999/xhtml";const kr={svg:"http://www.w3.org/2000/svg",xhtml:ze,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),kr.hasOwnProperty(n)?{space:kr[n],local:t}:t}function ds(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ze&&n.documentElement.namespaceURI===ze?n.createElement(t):n.createElementNS(e,t)}}function ps(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ci(t){var n=jn(t);return(n.local?ps:ds)(n)}function gs(){}function Ue(t){return t==null?gs:function(){return this.querySelector(t)}}function vs(t){typeof t!="function"&&(t=Ue(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),c,l,u=0;u<o;++u)(c=a[u])&&(l=t.call(c,c.__data__,u,a))&&("__data__"in c&&(l.__data__=c.__data__),s[u]=l);return new ft(r,this._parents)}function ms(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _s(){return[]}function zi(t){return t==null?_s:function(){return this.querySelectorAll(t)}}function ws(t){return function(){return ms(t.apply(this,arguments))}}function xs(t){typeof t=="function"?t=ws(t):t=zi(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&(r.push(t.call(c,c.__data__,l,o)),i.push(c));return new ft(r,i)}function Fi(t){return function(){return this.matches(t)}}function Ii(t){return function(n){return n.matches(t)}}var ys=Array.prototype.find;function Ss(t){return function(){return ys.call(this.children,t)}}function Ms(){return this.firstElementChild}function Es(t){return this.select(t==null?Ms:Ss(typeof t=="function"?t:Ii(t)))}var bs=Array.prototype.filter;function Ns(){return Array.from(this.children)}function $s(t){return function(){return bs.call(this.children,t)}}function As(t){return this.selectAll(t==null?Ns:$s(typeof t=="function"?t:Ii(t)))}function ks(t){typeof t!="function"&&(t=Fi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&t.call(c,c.__data__,l,a)&&s.push(c);return new ft(r,this._parents)}function Pi(t){return new Array(t.length)}function Ts(){return new ft(this._enter||this._groups.map(Pi),this._parents)}function Xn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Xn.prototype={constructor:Xn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Rs(t){return function(){return t}}function Cs(t,n,e,r,i,a){for(var o=0,s,c=n.length,l=a.length;o<l;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):e[o]=new Xn(t,a[o]);for(;o<c;++o)(s=n[o])&&(i[o]=s)}function zs(t,n,e,r,i,a,o){var s,c,l=new Map,u=n.length,f=a.length,h=new Array(u),d;for(s=0;s<u;++s)(c=n[s])&&(h[s]=d=o.call(c,c.__data__,s,n)+"",l.has(d)?i[s]=c:l.set(d,c));for(s=0;s<f;++s)d=o.call(t,a[s],s,a)+"",(c=l.get(d))?(r[s]=c,c.__data__=a[s],l.delete(d)):e[s]=new Xn(t,a[s]);for(s=0;s<u;++s)(c=n[s])&&l.get(h[s])===c&&(i[s]=c)}function Fs(t){return t.__data__}function Is(t,n){if(!arguments.length)return Array.from(this,Fs);var e=n?zs:Cs,r=this._parents,i=this._groups;typeof t!="function"&&(t=Rs(t));for(var a=i.length,o=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var u=r[l],f=i[l],h=f.length,d=Ps(t.call(u,u&&u.__data__,l,r)),p=d.length,g=s[l]=new Array(p),w=o[l]=new Array(p),N=c[l]=new Array(h);e(u,f,g,w,N,d,n);for(var S=0,y=0,_,x;S<p;++S)if(_=g[S]){for(S>=y&&(y=S+1);!(x=w[y])&&++y<p;);_._next=x||null}}return o=new ft(o,r),o._enter=s,o._exit=c,o}function Ps(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ds(){return new ft(this._exit||this._groups.map(Pi),this._parents)}function Ls(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Hs(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),s=new Array(i),c=0;c<o;++c)for(var l=e[c],u=r[c],f=l.length,h=s[c]=new Array(f),d,p=0;p<f;++p)(d=l[p]||u[p])&&(h[p]=d);for(;c<i;++c)s[c]=e[c];return new ft(s,this._parents)}function qs(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Os(t){t||(t=Bs);function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,c=i[a]=new Array(s),l,u=0;u<s;++u)(l=o[u])&&(c[u]=l);c.sort(n)}return new ft(i,this._parents).order()}function Bs(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Xs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Us(){return Array.from(this)}function Ys(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Gs(){let t=0;for(const n of this)++t;return t}function Vs(){return!this.node()}function Zs(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Ks(t){return function(){this.removeAttribute(t)}}function Qs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ws(t,n){return function(){this.setAttribute(t,n)}}function Js(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function js(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function tl(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function nl(t,n){var e=jn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Qs:Ks:typeof n=="function"?e.local?tl:js:e.local?Js:Ws)(e,n))}function Di(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function el(t){return function(){this.style.removeProperty(t)}}function rl(t,n,e){return function(){this.style.setProperty(t,n,e)}}function il(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function al(t,n,e){return arguments.length>1?this.each((n==null?el:typeof n=="function"?il:rl)(t,n,e??"")):qt(this.node(),t)}function qt(t,n){return t.style.getPropertyValue(n)||Di(t).getComputedStyle(t,null).getPropertyValue(n)}function ol(t){return function(){delete this[t]}}function sl(t,n){return function(){this[t]=n}}function ll(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ul(t,n){return arguments.length>1?this.each((n==null?ol:typeof n=="function"?ll:sl)(t,n)):this.node()[t]}function Li(t){return t.trim().split(/^|\s+/)}function Ye(t){return t.classList||new Hi(t)}function Hi(t){this._node=t,this._names=Li(t.getAttribute("class")||"")}Hi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qi(t,n){for(var e=Ye(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Oi(t,n){for(var e=Ye(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function fl(t){return function(){qi(this,t)}}function cl(t){return function(){Oi(this,t)}}function hl(t,n){return function(){(n.apply(this,arguments)?qi:Oi)(this,t)}}function dl(t,n){var e=Li(t+"");if(arguments.length<2){for(var r=Ye(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?hl:n?fl:cl)(e,n))}function pl(){this.textContent=""}function gl(t){return function(){this.textContent=t}}function vl(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function ml(t){return arguments.length?this.each(t==null?pl:(typeof t=="function"?vl:gl)(t)):this.node().textContent}function _l(){this.innerHTML=""}function wl(t){return function(){this.innerHTML=t}}function xl(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function yl(t){return arguments.length?this.each(t==null?_l:(typeof t=="function"?xl:wl)(t)):this.node().innerHTML}function Sl(){this.nextSibling&&this.parentNode.appendChild(this)}function Ml(){return this.each(Sl)}function El(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bl(){return this.each(El)}function Nl(t){var n=typeof t=="function"?t:Ci(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function $l(){return null}function Al(t,n){var e=typeof t=="function"?t:Ci(t),r=n==null?$l:typeof n=="function"?n:Ue(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function kl(){var t=this.parentNode;t&&t.removeChild(this)}function Tl(){return this.each(kl)}function Rl(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Cl(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function zl(t){return this.select(t?Cl:Rl)}function Fl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Il(t){return function(n){t.call(this,n,this.__data__)}}function Pl(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Dl(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Ll(t,n,e){return function(){var r=this.__on,i,a=Il(n);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Hl(t,n,e){var r=Pl(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=n?Ll:Dl,i=0;i<a;++i)this.each(s(r[i],n,e));return this}function Bi(t,n,e){var r=Di(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ql(t,n){return function(){return Bi(this,t,n)}}function Ol(t,n){return function(){return Bi(this,t,n.apply(this,arguments))}}function Bl(t,n){return this.each((typeof n=="function"?Ol:ql)(t,n))}function*Xl(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Ul=[null];function ft(t,n){this._groups=t,this._parents=n}function fn(){return new ft([[document.documentElement]],Ul)}function Yl(){return this}ft.prototype=fn.prototype={constructor:ft,select:vs,selectAll:xs,selectChild:Es,selectChildren:As,filter:ks,data:Is,enter:Ts,exit:Ds,join:Ls,merge:Hs,selection:Yl,order:qs,sort:Os,call:Xs,nodes:Us,node:Ys,size:Gs,empty:Vs,each:Zs,attr:nl,style:al,property:ul,classed:dl,text:ml,html:yl,raise:Ml,lower:bl,append:Nl,insert:Al,remove:Tl,clone:zl,datum:Fl,on:Hl,dispatch:Bl,[Symbol.iterator]:Xl};function Ge(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Xi(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function cn(){}var sn=.7,Un=1/sn,Dt="\\s*([+-]?\\d+)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gl=/^#([0-9a-f]{3,8})$/,Vl=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),Zl=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),Kl=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${ln}\\)$`),Ql=new RegExp(`^rgba\\(${gt},${gt},${gt},${ln}\\)$`),Wl=new RegExp(`^hsl\\(${ln},${gt},${gt}\\)$`),Jl=new RegExp(`^hsla\\(${ln},${gt},${gt},${ln}\\)$`),Tr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ge(cn,Tt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Rr,formatHex:Rr,formatHex8:jl,formatHsl:tu,formatRgb:Cr,toString:Cr});function Rr(){return this.rgb().formatHex()}function jl(){return this.rgb().formatHex8()}function tu(){return Ui(this).formatHsl()}function Cr(){return this.rgb().formatRgb()}function Tt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Gl.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?zr(n):e===3?new tt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?wn(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?wn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Vl.exec(t))?new tt(n[1],n[2],n[3],1):(n=Zl.exec(t))?new tt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Kl.exec(t))?wn(n[1],n[2],n[3],n[4]):(n=Ql.exec(t))?wn(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Wl.exec(t))?Pr(n[1],n[2]/100,n[3]/100,1):(n=Jl.exec(t))?Pr(n[1],n[2]/100,n[3]/100,n[4]):Tr.hasOwnProperty(t)?zr(Tr[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function zr(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function wn(t,n,e,r){return r<=0&&(t=n=e=NaN),new tt(t,n,e,r)}function nu(t){return t instanceof cn||(t=Tt(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function Fe(t,n,e,r){return arguments.length===1?nu(t):new tt(t,n,e,r??1)}function tt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ge(tt,Fe,Xi(cn,{brighter(t){return t=t==null?Un:Math.pow(Un,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sn:Math.pow(sn,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt($t(this.r),$t(this.g),$t(this.b),Yn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fr,formatHex:Fr,formatHex8:eu,formatRgb:Ir,toString:Ir}));function Fr(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function eu(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ir(){const t=Yn(this.opacity);return`${t===1?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${t===1?")":`, ${t})`}`}function Yn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=$t(t),(t<16?"0":"")+t.toString(16)}function Pr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ut(t,n,e,r)}function Ui(t){if(t instanceof ut)return new ut(t.h,t.s,t.l,t.opacity);if(t instanceof cn||(t=Tt(t)),!t)return new ut;if(t instanceof ut)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,c=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new ut(o,s,c,t.opacity)}function ru(t,n,e,r){return arguments.length===1?Ui(t):new ut(t,n,e,r??1)}function ut(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ge(ut,ru,Xi(cn,{brighter(t){return t=t==null?Un:Math.pow(Un,t),new ut(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sn:Math.pow(sn,t),new ut(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new tt(he(t>=240?t-240:t+120,i,r),he(t,i,r),he(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ut(Dr(this.h),xn(this.s),xn(this.l),Yn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yn(this.opacity);return`${t===1?"hsl(":"hsla("}${Dr(this.h)}, ${xn(this.s)*100}%, ${xn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Dr(t){return t=(t||0)%360,t<0?t+360:t}function xn(t){return Math.max(0,Math.min(1,t||0))}function he(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Ve=t=>()=>t;function iu(t,n){return function(e){return t+e*n}}function au(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function ou(t){return(t=+t)==1?Yi:function(n,e){return e-n?au(n,e,t):Ve(isNaN(n)?e:n)}}function Yi(t,n){var e=n-t;return e?iu(t,e):Ve(isNaN(t)?n:t)}const Gn=(function t(n){var e=ou(n);function r(i,a){var o=e((i=Fe(i)).r,(a=Fe(a)).r),s=e(i.g,a.g),c=e(i.b,a.b),l=Yi(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=t,r})(1);function su(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function lu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uu(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Ze(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function fu(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function lt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function cu(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Ze(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var Ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,de=new RegExp(Ie.source,"g");function hu(t){return function(){return t}}function du(t){return function(n){return t(n)+""}}function Gi(t,n){var e=Ie.lastIndex=de.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(t=t+"",n=n+"";(r=Ie.exec(t))&&(i=de.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:lt(r,i)})),e=de.lastIndex;return e<n.length&&(a=n.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?du(c[0].x):hu(n):(n=c.length,function(l){for(var u=0,f;u<n;++u)s[(f=c[u]).i]=f.x(l);return s.join("")})}function Ze(t,n){var e=typeof n,r;return n==null||e==="boolean"?Ve(n):(e==="number"?lt:e==="string"?(r=Tt(n))?(n=r,Gn):Gi:n instanceof Tt?Gn:n instanceof Date?fu:lu(n)?su:Array.isArray(n)?uu:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?cu:lt)(t,n)}function pu(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Lr=180/Math.PI,Pe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vi(t,n,e,r,i,a){var o,s,c;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,c/=s),t*r<n*e&&(t=-t,n=-n,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Lr,skewX:Math.atan(c)*Lr,scaleX:o,scaleY:s}}var yn;function gu(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Pe:Vi(n.a,n.b,n.c,n.d,n.e,n.f)}function vu(t){return t==null||(yn||(yn=document.createElementNS("http://www.w3.org/2000/svg","g")),yn.setAttribute("transform",t),!(t=yn.transform.baseVal.consolidate()))?Pe:(t=t.matrix,Vi(t.a,t.b,t.c,t.d,t.e,t.f))}function Zi(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function a(l,u,f,h,d,p){if(l!==f||u!==h){var g=d.push("translate(",null,n,null,e);p.push({i:g-4,x:lt(l,f)},{i:g-2,x:lt(u,h)})}else(f||h)&&d.push("translate("+f+n+h+e)}function o(l,u,f,h){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:lt(l,u)})):u&&f.push(i(f)+"rotate("+u+r)}function s(l,u,f,h){l!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:lt(l,u)}):u&&f.push(i(f)+"skewX("+u+r)}function c(l,u,f,h,d,p){if(l!==f||u!==h){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:lt(l,f)},{i:g-2,x:lt(u,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(l,u){var f=[],h=[];return l=t(l),u=t(u),a(l.translateX,l.translateY,u.translateX,u.translateY,f,h),o(l.rotate,u.rotate,f,h),s(l.skewX,u.skewX,f,h),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,f,h),l=u=null,function(d){for(var p=-1,g=h.length,w;++p<g;)f[(w=h[p]).i]=w.x(d);return f.join("")}}}var mu=Zi(gu,"px, ","px)","deg)"),_u=Zi(vu,", ",")",")"),Ot=0,jt=0,Gt=0,Ki=1e3,Vn,tn,Zn=0,Rt=0,te=0,un=typeof performance=="object"&&performance.now?performance:Date,Qi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ke(){return Rt||(Qi(wu),Rt=un.now()+te)}function wu(){Rt=0}function Kn(){this._call=this._time=this._next=null}Kn.prototype=Wi.prototype={constructor:Kn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Ke():+e)+(n==null?0:+n),!this._next&&tn!==this&&(tn?tn._next=this:Vn=this,tn=this),this._call=t,this._time=e,De()},stop:function(){this._call&&(this._call=null,this._time=1/0,De())}};function Wi(t,n,e){var r=new Kn;return r.restart(t,n,e),r}function xu(){Ke(),++Ot;for(var t=Vn,n;t;)(n=Rt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Ot}function Hr(){Rt=(Zn=un.now())+te,Ot=jt=0;try{xu()}finally{Ot=0,Su(),Rt=0}}function yu(){var t=un.now(),n=t-Zn;n>Ki&&(te-=n,Zn=t)}function Su(){for(var t,n=Vn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Vn=e);tn=t,De(r)}function De(t){if(!Ot){jt&&(jt=clearTimeout(jt));var n=t-Rt;n>24?(t<1/0&&(jt=setTimeout(Hr,t-un.now()-te)),Gt&&(Gt=clearInterval(Gt))):(Gt||(Zn=un.now(),Gt=setInterval(yu,Ki)),Ot=1,Qi(Hr))}}function qr(t,n,e){var r=new Kn;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Mu=Ri("start","end","cancel","interrupt"),Eu=[],Ji=0,Or=1,Le=2,Tn=3,Br=4,He=5,Rn=6;function ne(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;bu(t,e,{name:n,index:r,group:i,on:Mu,tween:Eu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ji})}function Qe(t,n){var e=ct(t,n);if(e.state>Ji)throw new Error("too late; already scheduled");return e}function vt(t,n){var e=ct(t,n);if(e.state>Tn)throw new Error("too late; already running");return e}function ct(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function bu(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Wi(a,0,e.time);function a(l){e.state=Or,e.timer.restart(o,e.delay,e.time),e.delay<=l&&o(l-e.delay)}function o(l){var u,f,h,d;if(e.state!==Or)return c();for(u in r)if(d=r[u],d.name===e.name){if(d.state===Tn)return qr(o);d.state===Br?(d.state=Rn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<n&&(d.state=Rn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(qr(function(){e.state===Tn&&(e.state=Br,e.timer.restart(s,e.delay,e.time),s(l))}),e.state=Le,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Le){for(e.state=Tn,i=new Array(h=e.tween.length),u=0,f=-1;u<h;++u)(d=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++f]=d);i.length=f+1}}function s(l){for(var u=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(c),e.state=He,1),f=-1,h=i.length;++f<h;)i[f].call(t,u);e.state===He&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=Rn,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function Nu(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>Le&&r.state<He,r.state=Rn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function $u(t){return this.each(function(){Nu(this,t)})}function Au(t,n){var e,r;return function(){var i=vt(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function ku(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=vt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},c=0,l=i.length;c<l;++c)if(i[c].name===n){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function Tu(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=ct(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Au:ku)(e,t,n))}function We(t,n,e){var r=t._id;return t.each(function(){var i=vt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return ct(i,r).value[n]}}function ji(t,n){var e;return(typeof n=="number"?lt:n instanceof Tt?Gn:(e=Tt(n))?(n=e,Gn):Gi)(t,n)}function Ru(t){return function(){this.removeAttribute(t)}}function Cu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zu(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function Fu(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Iu(t,n,e){var r,i,a;return function(){var o,s=e(this),c;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=n(r=o,s)))}}function Pu(t,n,e){var r,i,a;return function(){var o,s=e(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=n(r=o,s)))}}function Du(t,n){var e=jn(t),r=e==="transform"?_u:ji;return this.attrTween(t,typeof n=="function"?(e.local?Pu:Iu)(e,r,We(this,"attr."+t,n)):n==null?(e.local?Cu:Ru)(e):(e.local?Fu:zu)(e,r,n))}function Lu(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Hu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function qu(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Hu(t,a)),e}return i._value=n,i}function Ou(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Lu(t,a)),e}return i._value=n,i}function Bu(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=jn(t);return this.tween(e,(r.local?qu:Ou)(r,n))}function Xu(t,n){return function(){Qe(this,t).delay=+n.apply(this,arguments)}}function Uu(t,n){return n=+n,function(){Qe(this,t).delay=n}}function Yu(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Xu:Uu)(n,t)):ct(this.node(),n).delay}function Gu(t,n){return function(){vt(this,t).duration=+n.apply(this,arguments)}}function Vu(t,n){return n=+n,function(){vt(this,t).duration=n}}function Zu(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Gu:Vu)(n,t)):ct(this.node(),n).duration}function Ku(t,n){if(typeof n!="function")throw new Error;return function(){vt(this,t).ease=n}}function Qu(t){var n=this._id;return arguments.length?this.each(Ku(n,t)):ct(this.node(),n).ease}function Wu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;vt(this,t).ease=e}}function Ju(t){if(typeof t!="function")throw new Error;return this.each(Wu(this._id,t))}function ju(t){typeof t!="function"&&(t=Fi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&t.call(c,c.__data__,l,a)&&s.push(c);return new Mt(r,this._parents,this._name,this._id)}function tf(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c=n[s],l=e[s],u=c.length,f=o[s]=new Array(u),h,d=0;d<u;++d)(h=c[d]||l[d])&&(f[d]=h);for(;s<r;++s)o[s]=n[s];return new Mt(o,this._parents,this._name,this._id)}function nf(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function ef(t,n,e){var r,i,a=nf(n)?Qe:vt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function rf(t,n){var e=this._id;return arguments.length<2?ct(this.node(),e).on.on(t):this.each(ef(e,t,n))}function af(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function of(){return this.on("end.remove",af(this._id))}function sf(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ue(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,l=a[o]=new Array(c),u,f,h=0;h<c;++h)(u=s[h])&&(f=t.call(u,u.__data__,h,s))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f,ne(l[h],n,e,h,l,ct(u,e)));return new Mt(a,this._parents,n,e)}function lf(t){var n=this._name,e=this._id;typeof t!="function"&&(t=zi(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,f=0;f<l;++f)if(u=c[f]){for(var h=t.call(u,u.__data__,f,c),d,p=ct(u,e),g=0,w=h.length;g<w;++g)(d=h[g])&&ne(d,n,e,g,h,p);a.push(h),o.push(u)}return new Mt(a,o,n,e)}var uf=fn.prototype.constructor;function ff(){return new uf(this._groups,this._parents)}function cf(t,n){var e,r,i;return function(){var a=qt(this,t),o=(this.style.removeProperty(t),qt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function ta(t){return function(){this.style.removeProperty(t)}}function hf(t,n,e){var r,i=e+"",a;return function(){var o=qt(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function df(t,n,e){var r,i,a;return function(){var o=qt(this,t),s=e(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),qt(this,t))),o===c?null:o===r&&c===i?a:(i=c,a=n(r=o,s))}}function pf(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var c=vt(this,t),l=c.on,u=c.value[a]==null?s||(s=ta(n)):void 0;(l!==e||i!==u)&&(r=(e=l).copy()).on(o,i=u),c.on=r}}function gf(t,n,e){var r=(t+="")=="transform"?mu:ji;return n==null?this.styleTween(t,cf(t,r)).on("end.style."+t,ta(t)):typeof n=="function"?this.styleTween(t,df(t,r,We(this,"style."+t,n))).each(pf(this._id,t)):this.styleTween(t,hf(t,r,n),e).on("end.style."+t,null)}function vf(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function mf(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&vf(t,o,e)),r}return a._value=n,a}function _f(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,mf(t,n,e??""))}function wf(t){return function(){this.textContent=t}}function xf(t){return function(){var n=t(this);this.textContent=n??""}}function yf(t){return this.tween("text",typeof t=="function"?xf(We(this,"text",t)):wf(t==null?"":t+""))}function Sf(t){return function(n){this.textContent=t.call(this,n)}}function Mf(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Sf(i)),n}return r._value=t,r}function Ef(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Mf(t))}function bf(){for(var t=this._name,n=this._id,e=na(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)if(c=o[l]){var u=ct(c,n);ne(c,t,e,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Mt(r,this._parents,t,e)}function Nf(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};e.each(function(){var l=vt(this,r),u=l.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(c)),l.on=n}),i===0&&a()})}var $f=0;function Mt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function na(){return++$f}var mt=fn.prototype;Mt.prototype={constructor:Mt,select:sf,selectAll:lf,selectChild:mt.selectChild,selectChildren:mt.selectChildren,filter:ju,merge:tf,selection:ff,transition:bf,call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:rf,attr:Du,attrTween:Bu,style:gf,styleTween:_f,text:yf,textTween:Ef,remove:of,tween:Tu,delay:Yu,duration:Zu,ease:Qu,easeVarying:Ju,end:Nf,[Symbol.iterator]:mt[Symbol.iterator]};function Af(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var kf={time:null,delay:0,duration:250,ease:Af};function Tf(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Rf(t){var n,e;t instanceof Mt?(n=t._id,t=t._name):(n=na(),(e=kf).time=Ke(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&ne(c,t,n,l,o,e||Tf(c,n));return new Mt(r,this._parents,t,n)}fn.prototype.interrupt=$u;fn.prototype.transition=Rf;function Cf(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Bt(t){return t=Qn(Math.abs(t)),t?t[1]:NaN}function zf(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Ff(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var If=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wn(t){if(!(n=If.exec(t)))throw new Error("invalid format: "+t);var n;return new Je({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Wn.prototype=Je.prototype;function Je(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Je.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pf(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ea;function Df(t,n){var e=Qn(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ea=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qn(t,Math.max(0,n+a-1))[0]}function Xr(t,n){var e=Qn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ur={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Cf,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Xr(t*100,n),r:Xr,s:Df,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Yr(t){return t}var Gr=Array.prototype.map,Vr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lf(t){var n=t.grouping===void 0||t.thousands===void 0?Yr:zf(Gr.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Yr:Ff(Gr.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(f){f=Wn(f);var h=f.fill,d=f.align,p=f.sign,g=f.symbol,w=f.zero,N=f.width,S=f.comma,y=f.precision,_=f.trim,x=f.type;x==="n"?(S=!0,x="g"):Ur[x]||(y===void 0&&(y=12),_=!0,x="g"),(w||h==="0"&&d==="=")&&(w=!0,h="0",d="=");var M=g==="$"?e:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",k=g==="$"?r:/[%p]/.test(x)?o:"",R=Ur[x],$=/[defgprs%]/.test(x);y=y===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function E(v){var z=M,C=k,A,m,T;if(x==="c")C=R(v)+C,v="";else{v=+v;var F=v<0||1/v<0;if(v=isNaN(v)?c:R(Math.abs(v),y),_&&(v=Pf(v)),F&&+v==0&&p!=="+"&&(F=!1),z=(F?p==="("?p:s:p==="-"||p==="("?"":p)+z,C=(x==="s"?Vr[8+ea/3]:"")+C+(F&&p==="("?")":""),$){for(A=-1,m=v.length;++A<m;)if(T=v.charCodeAt(A),48>T||T>57){C=(T===46?i+v.slice(A+1):v.slice(A))+C,v=v.slice(0,A);break}}}S&&!w&&(v=n(v,1/0));var I=z.length+v.length+C.length,P=I<N?new Array(N-I+1).join(h):"";switch(S&&w&&(v=n(P+v,P.length?N-C.length:1/0),P=""),d){case"<":v=z+v+C+P;break;case"=":v=z+P+v+C;break;case"^":v=P.slice(0,I=P.length>>1)+z+v+C+P.slice(I);break;default:v=P+z+v+C;break}return a(v)}return E.toString=function(){return f+""},E}function u(f,h){var d=l((f=Wn(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Bt(h)/3)))*3,g=Math.pow(10,-p),w=Vr[8+p/3];return function(N){return d(g*N)+w}}return{format:l,formatPrefix:u}}var Sn,ra,ia;Hf({thousands:",",grouping:[3],currency:["$",""]});function Hf(t){return Sn=Lf(t),ra=Sn.format,ia=Sn.formatPrefix,Sn}function qf(t){return Math.max(0,-Bt(Math.abs(t)))}function Of(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bt(n)/3)))*3-Bt(Math.abs(t)))}function Bf(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Bt(n)-Bt(t))+1}function Xf(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Uf(t){return function(){return t}}function Yf(t){return+t}var Zr=[0,1];function Et(t){return t}function qe(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Uf(isNaN(n)?NaN:.5)}function Gf(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Vf(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=qe(i,r),a=e(o,a)):(r=qe(r,i),a=e(a,o)),function(s){return a(r(s))}}function Zf(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=qe(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(s){var c=uo(t,s,1,r)-1;return a[c](i[c](s))}}function Kf(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qf(){var t=Zr,n=Zr,e=Ze,r,i,a,o=Et,s,c,l;function u(){var h=Math.min(t.length,n.length);return o!==Et&&(o=Gf(t[0],t[h-1])),s=h>2?Zf:Vf,c=l=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(t.map(r),n,e)))(r(o(h)))}return f.invert=function(h){return o(i((l||(l=s(n,t.map(r),lt)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Yf),u()):t.slice()},f.range=function(h){return arguments.length?(n=Array.from(h),u()):n.slice()},f.rangeRound=function(h){return n=Array.from(h),e=pu,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Et,u()):o!==Et},f.interpolate=function(h){return arguments.length?(e=h,u()):e},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,u()}}function Wf(t,n,e,r){var i=po(t,n,e),a;switch(r=Wn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Of(i,o))&&(r.precision=a),ia(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Bf(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=qf(i))&&(r.precision=a-(r.type==="%")*2);break}}return ra(r)}function Jf(t){var n=t.domain;return t.ticks=function(e){var r=n();return li(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Wf(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],s=r[a],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);u-- >0;){if(l=me(o,s,e),l===c)return r[i]=o,r[a]=s,n(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return t},t}function Kr(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function jf(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tc(t){return t<0?-t*t:t*t}function nc(t){var n=t(Et,Et),e=1;function r(){return e===1?t(Et,Et):e===.5?t(jf,tc):t(Kr(e),Kr(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Jf(n)}function aa(){var t=nc(Qf());return t.copy=function(){return Kf(t,aa()).exponent(t.exponent())},Xf.apply(t,arguments),t}function ec(){return aa.apply(null,arguments).exponent(.5)}function nn(t,n,e){this.k=t,this.x=n,this.y=e}nn.prototype={constructor:nn,scale:function(t){return t===1?this:new nn(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new nn(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};nn.prototype;var rc=Jn('<path fill="#f9f9f9" stroke="#333" stroke-width="0.5"></path>'),ic=Jn('<circle fill-opacity="0.6"></circle>'),ac=Jn('<g><circle cx="0" cy="0" fill="none" stroke="#555"></circle><text x="30" font-size="10" fill="#333"> </text></g>'),oc=bt('<div class="absolute bg-white/80 border border-gray-400 px-2 py-1 text-xs rounded shadow pointer-events-none"><strong> </strong><br/> <br/> <br/> <hr/> <em> </em></div>'),sc=bt('<div class="absolute bg-white border border-gray-400 px-3 py-2 text-sm rounded shadow pointer-events-none"><strong> </strong><br/> <br/> <br/> <hr/> <em> </em></div>'),lc=bt('<div class="relative chart-container"><svg preserveAspectRatio="xMidYMid meet" class="mx-auto block"><!><!><g><rect x="-150" y="80" width="12" height="150" rx="2" ry="2" style="fill: url(#legend-gradient);"></rect><text x="-130" y="80" font-size="10" fill="#333">200%</text><text x="-130" y="120" font-size="10" fill="#333">150%</text><text x="-130" y="160" font-size="10" fill="#333">100%</text><text x="-130" y="200" font-size="10" fill="#333">50%</text><text x="-130" y="240" font-size="10" fill="#333">0%</text><defs><linearGradient id="legend-gradient" x1="0" x2="0" y1="1" y2="0"><stop offset="0%" stop-color="#006400"></stop><stop offset="50%" stop-color="#90EE90"></stop><stop offset="75%" stop-color="#FFA500"></stop><stop offset="100%" stop-color="#8B0000"></stop></linearGradient></defs></g><g><text x="-30" y="-50" font-size="12" fill="#333">Totale detenuti</text><!></g></svg> <!></div>');function uc(t,n){ni(n,!1);let e=K(),r=K(!1);Cn(()=>{const E=window.matchMedia("(max-width: 768px)");O(r,E.matches),E.addEventListener("change",v=>O(r,v.matches))});function i(E,v){if(O(f,v),b(r))O(h,0),O(d,100);else{const z=E.target.ownerSVGElement.getBoundingClientRect();O(h,E.clientX-z.left+10),O(d,E.clientY-z.top-20)}}let a=800,o=700,s=K([]),c=K([]),l=K(),u=K(0),f=K(null),h=K(0),d=K(0);function p(E){if(E<=100){const v=E/100,z=[0,100,0],C=[144,238,144],A=Math.round(z[0]+(C[0]-z[0])*v),m=Math.round(z[1]+(C[1]-z[1])*v),T=Math.round(z[2]+(C[2]-z[2])*v);return`rgb(${A},${m},${T})`}else{const z=(Math.min(E,200)-100)/100,C=[255,255,0],A=[139,0,0],m=Math.round(C[0]+(A[0]-C[0])*z),T=Math.round(C[1]+(A[1]-C[1])*z),F=Math.round(C[2]+(A[2]-C[2])*z);return`rgb(${m},${T},${F})`}}let g=Ai().center([12.5,42.5]).scale(2500).translate([a/2,o/2]),w=Ni().projection(g);Cn(async()=>{try{const v=await(await fetch("italia.json")).json();O(s,v.features.map(A=>({d:w(A)})));const C=await Ti("https://docs.google.com/spreadsheets/d/1wH9i9hc_B7Q91KklHFc8FHFdGrZ82SsDB1gHhNPaumg/gviz/tq?tqx=out:csv&sheet=Dati");O(c,C.filter(A=>A.Latitudine&&A.Longitudine).map(A=>{const m=parseFloat(A.Latitudine.replace(",",".")),T=parseFloat(A.Longitudine.replace(",",".")),F=parseFloat(A.Tasso_affollamento.toString().replace("%","").replace(",",".")),I=+A.Totale_detenuti,P=A.Data_aggiornamento;return{nome:A.Nome_istituto,lat:m,lng:T,affollamento:F,totale:I,lastUpdate:P}})),O(u,or(b(c),A=>A.totale)||0),O(l,ec().domain([0,or(b(c),A=>A.totale)]).range([4,20]))}catch(E){console.error("Errore nel caricamento dati:",E)}}),ii();var N=lc(),S=L(N);Z(S,"viewBox","0 0 800 700");var y=L(S);Nn(y,1,()=>b(s),bn,(E,v)=>{var z=rc();wt(()=>Z(z,"d",b(v).d)),Q(E,z)});var _=V(y);Nn(_,1,()=>b(c),bn,(E,v,z)=>{var C=Mn(),A=En(C);{var m=T=>{var F=ic();wt((I,P,W,G)=>{Z(F,"cx",I),Z(F,"cy",P),Z(F,"r",W),Z(F,"fill",G)},[()=>g([b(v).lng,b(v).lat])[0],()=>g([b(v).lng,b(v).lat])[1],()=>b(l)?b(l)(b(v).totale):6,()=>p(b(v).affollamento)]),Vt(1,F,()=>io,()=>({y:-200,duration:800,delay:z*40})),xt("mouseenter",F,I=>!b(r)&&i(I,b(v))),xt("mousemove",F,I=>!b(r)&&i(I,b(v))),xt("mouseleave",F,()=>!b(r)&&O(f,null)),xt("click",F,I=>b(r)&&i(I,b(v))),xt("touchstart",F,I=>b(r)&&i(I,b(v))),Q(T,F)};It(A,T=>{g&&!isNaN(b(v).lat)&&!isNaN(b(v).lng)&&T(m)})}Q(E,C)});var x=V(_);Z(x,"transform","translate(740, 20)");var M=V(x);Z(M,"transform","translate(150, 680)");var k=V(L(M));Nn(k,1,()=>li(0,b(u),3),bn,(E,v)=>{var z=Mn(),C=En(z);{var A=m=>{var T=ac(),F=L(T),I=V(F),P=L(I,!0);H(I),H(T),wt((W,G,nt)=>{Z(T,"transform",`translate(0, ${W??""})`),Z(F,"r",G),Z(I,"y",nt),rt(P,b(v))},[()=>-b(l)(b(v)),()=>b(l)(b(v)),()=>-b(l)(b(v))+20]),Q(m,T)};It(C,m=>{b(v)>0&&m(A)})}Q(E,z)}),H(M),H(S);var R=V(S,2);{var $=E=>{var v=Mn(),z=En(v);{var C=m=>{var T=oc(),F=L(T),I=L(F,!0);H(F);var P=V(F,2),W=V(P,2),G=V(W,5),nt=L(G);H(G),H(T),wt(et=>{zn(T,`left:${b(h)??""}px; top:${b(d)??""}px`),rt(I,b(f).nome),rt(P,` Tasso di affollamento: ${et??""}% `),rt(W,` Numero totale di detenuti: ${b(f).totale??""} `),rt(nt,`Ultimo aggiornamento: ${b(f).lastUpdate??""}`)},[()=>b(f).affollamento?.toFixed(2)]),Q(m,T)},A=m=>{var T=sc(),F=L(T),I=L(F,!0);H(F);var P=V(F,2),W=V(P,2),G=V(W,5),nt=L(G);H(G),H(T),wt(et=>{zn(T,`left:${b(h)+10}px; top:${b(d)+10}px`),rt(I,b(f).nome),rt(P,` Tasso di affollamento: ${et??""}% `),rt(W,` Numero totale di detenuti: ${b(f).totale??""} `),rt(nt,`Ultimo aggiornamento: ${b(f).lastUpdate??""}`)},[()=>b(f).affollamento?.toFixed(2)]),Q(m,T)};It(z,m=>{b(r)?m(C):m(A,!1)})}Q(E,v)};It(R,E=>{b(f)&&E($)})}H(N),ri(N,E=>O(e,E),()=>b(e)),Q(t,N),ei()}var fc=Jn('<path stroke="#333" stroke-width="0.5"></path>'),cc=bt('<div class="absolute bg-white/80 border border-gray-400 px-2 py-1 text-xs rounded shadow pointer-events-none"><div class="font-bold"> </div> <div> </div></div>'),hc=bt('<div class="absolute bg-white border border-gray-400 px-3 py-2 text-sm rounded shadow pointer-events-none"><div class="font-bold"> </div> <div> </div></div>'),dc=bt('<div class="relative chart-container"><svg preserveAspectRatio="xMidYMid meet" class="mx-auto block"><!><g><rect x="-40" y="0" width="12" height="150" rx="2" ry="2" style="fill: url(#legend-gradient);"></rect><text x="-20" y="10" font-size="10" fill="#333">200%</text><text x="-20" y="80" font-size="10" fill="#333">100%</text><text x="-20" y="150" font-size="10" fill="#333">0%</text><defs><linearGradient id="legend-gradient" x1="0" x2="0" y1="1" y2="0"><stop offset="0%" stop-color="#006400"></stop><stop offset="50%" stop-color="#90EE90"></stop><stop offset="75%" stop-color="#FFA500"></stop><stop offset="100%" stop-color="#8B0000"></stop></linearGradient></defs></g></svg> <!></div>');function pc(t,n){ni(n,!1);let e=800,r=700,i=K([]),a=K(),o=K(null),s=K(0),c=K(0),l=K(!1);Cn(()=>{const _=window.matchMedia("(max-width: 768px)");O(l,_.matches),_.addEventListener("change",x=>O(l,x.matches))});let u=Ai().center([12.5,42.5]).scale(2500).translate([e/2,r/2]),f=Ni().projection(u);function h(_){if(!_)return"#ddd";if(_<=100){const x=_/100,M=[0,100,0],k=[144,238,144],R=Math.round(M[0]+(k[0]-M[0])*x),$=Math.round(M[1]+(k[1]-M[1])*x),E=Math.round(M[2]+(k[2]-M[2])*x);return`rgb(${R},${$},${E})`}else{const M=(Math.min(_,200)-100)/50,k=[255,165,0],R=[139,0,0],$=Math.round(k[0]+(R[0]-k[0])*M),E=Math.round(k[1]+(R[1]-k[1])*M),v=Math.round(k[2]+(R[2]-k[2])*M);return`rgb(${$},${E},${v})`}}function d(_,x){if(O(o,x),b(l))O(s,10),O(c,100);else{const M=_.target.ownerSVGElement.getBoundingClientRect();O(s,_.clientX-M.left+10),O(c,_.clientY-M.top-20)}}Cn(async()=>{try{const x=await(await fetch("italia-regioni.json")).json(),k=await Ti("https://docs.google.com/spreadsheets/d/1wH9i9hc_B7Q91KklHFc8FHFdGrZ82SsDB1gHhNPaumg/gviz/tq?tqx=out:csv&sheet=DatiRegioni"),R={};k.forEach($=>{const E=$.Tasso_affollamento_medio;E&&(R[$.Regione]=parseFloat(E.replace(",",".")))}),O(i,x.features.map($=>({d:f($),name:$.properties.name,value:R[$.properties.name]||null})))}catch(_){console.error("Errore caricamento mappa regioni:",_)}}),ii();var p=dc(),g=L(p);Z(g,"viewBox","0 0 800 700");var w=L(g);Nn(w,1,()=>b(i),bn,(_,x)=>{var M=fc();wt(k=>{Z(M,"d",b(x).d),Z(M,"fill",k)},[()=>h(b(x).value)]),xt("mousemove",M,k=>!b(l)&&d(k,b(x))),xt("mouseleave",M,()=>!b(l)&&O(o,null)),xt("click",M,k=>b(l)&&d(k,b(x))),xt("touchstart",M,k=>b(l)&&d(k,b(x))),Q(_,M)});var N=V(w);Z(N,"transform","translate(740, 80)"),H(g);var S=V(g,2);{var y=_=>{var x=Mn(),M=En(x);{var k=$=>{var E=cc(),v=L(E),z=L(v,!0);H(v);var C=V(v,2),A=L(C);H(C),H(E),wt(m=>{zn(E,`left:${b(s)??""}px; top:${b(c)??""}px`),rt(z,b(o).name),rt(A,`Tasso di affollamento: ${m??""}%`)},[()=>b(o).value?b(o).value.toFixed(2):"n.d."]),Vt(1,E,()=>pn,()=>({duration:150})),Vt(2,E,()=>pn,()=>({duration:150})),Q($,E)},R=$=>{var E=hc(),v=L(E),z=L(v,!0);H(v);var C=V(v,2),A=L(C);H(C),H(E),wt(m=>{zn(E,`left:${b(s)??""}px; top:${b(c)??""}px`),rt(z,b(o).name),rt(A,`Tasso di affollamento: ${m??""}%`)},[()=>b(o).value?b(o).value.toFixed(2):"n.d."]),Vt(1,E,()=>pn,()=>({duration:150})),Vt(2,E,()=>pn,()=>({duration:150})),Q($,E)};It(M,$=>{b(l)?$(k):$(R,!1)})}Q(_,x)};It(S,_=>{b(o)&&_(y)})}H(p),ri(p,_=>O(a,_),()=>b(a)),Q(t,p),ei()}var gc=bt(`<meta name="description" content="Uno scraper per l'aggiornamento quotidiano sullo stato delle carceri italiane"/>`),vc=qa(bt(`<main class="page-bg flex flex-col items-center"><section class="w-full py-16 text-center mb-0"><div class="text-center"><div class="text-lg md:text-4xl text-gray-700 font-oswald font-semibold">Tutti i dati sulle</div> <img alt="Carceri italiane" class="h-48 md:h-72 mx-auto"/> <div class="text-lg md:text-4xl text-gray-700 font-oswald font-semibold">giorno per giorno</div></div></section> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">Il lavoro presente in questo sito è realizzato da <a href="https://www.davidruffini.com/">David Ruffini</a> e vuole
        mostrare lo stato delle carceri italiane, ormai da anni caratterizzate
        da un <b>sovraffollamento grave</b> che si ripercuote <b>sia sui detenuti che sugli altri operatori</b> presenti negli istituti. <br/> Un altro elemento che si vuole approfondire è quello dei <b>suicidi</b>.
        Solamente nel 2024, sono stati 92 i detenuti che si sono tolti la vita
        all'interno delle mura carcerarie, segnando il numero più elevato dal
        2002 a oggi. <br/> <br/></p></div></section> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">La mappa permette di visualizzare le carceri su due dimensioni: quella geografica e quella numerica. Quest'ultima è rappresentata da due misure importanti: il numero dei detenuti totali, rappresentato dalle dimensioni di ciascun cerchio, e il tasso di affollamento, evidenziato dal colore.</p></div></section> <div class="chart-container"><section class="flex items-center justify-center mt-0"><!></section></div> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">Successivamente alla raccolta dei dati relativi a ogni singolo carcere, è stata realizzata un'aggregazione a <b>livello regionale</b>, in modo da comprendere al meglio quali siano le zone italiane più colpite dalla congestione carceraria.</p></div></section> <div class="chart-container"><section class="flex items-center justify-center"><!></section></div> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">La raccolta dei dati è iniziata il <b>15 giugno 2025</b>, quindi le informazioni partono da quel giorno e registrano giornalmente il tasso di affollamento carcerario a livello nazionale, calcolato come il totale dei detenuti diviso la differenza tra il totale dei posti regolamentari e il totale dei posti non disponibili, o, più semplicemente, come il rapporto tra il totale dei detenuti e il totale dei posti effettivamente disponibili.</p></div></section> <section class=" my-10"><div style="min-height:373px" id="datawrapper-vis-71MG8"><script type="text/javascript" defer src="https://datawrapper.dwcdn.net/71MG8/embed.js" charset="utf-8" data-target="#datawrapper-vis-71MG8"><\/script><noscript></noscript></div></section> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">La tabella, dotata della possibilità di ricercare, mostra tutte le carceri italiane e altri dati ritenuti importanti. Il tasso di affollamento è colorato in base alla sua gravità.</p></div></section> <section class="mx-12 my-10"><div style="min-height:553px" id="datawrapper-vis-nd1Uw"><script type="text/javascript" defer src="https://datawrapper.dwcdn.net/nd1Uw/embed.js" charset="utf-8" data-target="#datawrapper-vis-nd1Uw"><\/script><noscript></noscript></div></section> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">Un altro grave problema legato alle carceri italiane è la <b>carenza di personale</b>. Nel grafico, sono mostrate le carceri attraverso uno scatter plot, dove la dimensione di ciascun istituto è determinata dal numero medio di detenuti per agente, mentre sulle assi delle x e delle y si trovano rispettivamento il totale dei detenuti e il deficit di poliziotti penitenziari rispetto a quelli previsti.</p></div></section> <section class="mx-12 my-10"><div style="min-height:423px" id="datawrapper-vis-wWADv"><script type="text/javascript" defer src="https://datawrapper.dwcdn.net/wWADv/embed.js" charset="utf-8" data-target="#datawrapper-vis-wWADv"><\/script><noscript></noscript></div></section> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">Nella tabella, è possibile osservare tutti gli istituti penitenziari italiani secondo il <b>numero di detenuti</b> per agente e altre misure.</p></div></section> <section class="mx-12 my-10"><div style="min-height:435px" id="datawrapper-vis-iCXb2"><script type="text/javascript" defer src="https://datawrapper.dwcdn.net/iCXb2/embed.js" charset="utf-8" data-target="#datawrapper-vis-iCXb2"><\/script><noscript></noscript></div></section> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">La causa principale di morte nei penitenziari italiani resta il suicidio.</p></div></section> <section class="mx-12 my-10"><div style="min-height:305px" id="datawrapper-vis-jJ6Cd"><script type="text/javascript" defer src="https://datawrapper.dwcdn.net/jJ6Cd/embed.js" charset="utf-8" data-target="#datawrapper-vis-jJ6Cd"><\/script><noscript></noscript></div></section> <section class="flex items-center justify-center mt-0 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg leading-relaxed">Il 2024 ha segnato il numero più elevato di suicidi negli istituti penitenziari italiani.</p></div></section> <section class="mx-12 my-10"><div style="min-height:412px" id="datawrapper-vis-Yrawu"><script type="text/javascript" defer src="https://datawrapper.dwcdn.net/Yrawu/embed.js" charset="utf-8" data-target="#datawrapper-vis-Yrawu"><\/script><noscript></noscript></div></section> <section class="flex items-center justify-center  my-10 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg md:text-4xl leading-relaxed semi-bold my-5 text-center md:text-left">Download dei dati</p> <p>I dati sono scaricabili da ogni singola dashboard, ma di seguito sono stati comunque inseriti i link per il download:</p> <ul class="list-disc list-inside text-left flex flex-col gap-2 my-4 mx-4"><li><a href="https://docs.google.com/spreadsheets/d/1wH9i9hc_B7Q91KklHFc8FHFdGrZ82SsDB1gHhNPaumg/export?format=csv&amp;gid=1943472560" download="">Dati sugli istituti penitenziari</a></li> <li><a href="https://docs.google.com/spreadsheets/d/1wH9i9hc_B7Q91KklHFc8FHFdGrZ82SsDB1gHhNPaumg/export?format=csv&amp;gid=1408753092" download="">Dati sul sovraffollamento carcerario a livello regionale</a></li> <li><a href="https://docs.google.com/spreadsheets/d/1wH9i9hc_B7Q91KklHFc8FHFdGrZ82SsDB1gHhNPaumg/export?format=csv&amp;gid=681593217" download="">Dati sugli agenti di polizia penitenziaria nelle carceri</a></li> <li><a href="https://docs.google.com/spreadsheets/d/1REAvN1QFv3IzkbHbI7AICLAhDICeh9Vvd4f_Xk-6vOs/export?format=csv&amp;gid=594867098" download="">Dati sul sovraffollamento carcerario a livello nazionale nel tempo</a></li></ul></div></section> <section class="flex items-center justify-center  my-10 font-oswald"><div class="max-w-2xl text-left"><p class="text-lg md:text-4xl leading-relaxed semi-bold my-5 text-center md:text-left">Contatti</p> <div class="flex space-x-6 text-gray-700"><a href="https://twitter.com/davidruffini_" target="_blank"><i class="fa fa-twitter fa-2x"></i></a> <a href="https://www.instagram.com/david_ruffini/" target="_blank"><i class="fa fa-instagram fa-2x"></i></a> <a href="https://www.linkedin.com/in/david-ruffini-56a5a1161/" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a></div></div></section> <section class="min-h-screen flex items-center justify-center"><div class="max-w-2xl text-left"><h2 class="text-4xl font-bold mb-4 text-center md:text-left">Appendice tecnica</h2> <p class="text-lg leading-relaxed"><i>Tecnicamente, il progetto sfrutta due script in R: uno raccoglie i
          dati relativi al sovraffollamento, mentre l'altro si occupa dei dati
          sulle morti. I dati riguardanti il sovraffollamento provengono dalle <a href="https://www.giustizia.it/giustizia/page/it/istituti_penitenziari">schede di trasparenza</a> pubblicate dal Ministero della Giustizia e aggiornate giornalmente, a
          livello di ogni singolo istituto penitenziario; diversamente, i dati
          sulle morti dei detenuti provengono da <a href="http://www.ristretti.it/areestudio/disagio/ricerca/">Ristretti Orizzonti</a>. <br/><br/> Gli script girano automaticamente giornalmente e, in base alla
          presenza di nuovi dati, le relative dashboard si aggiornano di
          conseguenza. Il codice si trova su <a href="https://github.com/davidoffdado/sovraffollamento-carcerario">GitHub</a>. <br/> Se pensi ci possano essere degli errori o vuoi utilizzare i dati (sei
          libero di farlo, ma mi farebbe piacere saperlo) puoi contattarmi qui <a href="mailto:davidruffini98@gmail.com">davidruffini98@gmail.com</a> o nei canali social presenti in fondo alla pagina. <br/> Prima dell'utilizzo dei dati, l'invito è a effettuare una verifica
          sulla coerenza tra quello che c'è sulla dashboard e ciò che è presente
          nelle fonti dei dati viste sopra. <br/><br/> Questo sito è stato realizzato in HTML, CSS, JavaScript, Svelte e D3.</i></p></div></section></main>`));function Ec(t){var n=vc();Xa(f=>{var h=gc();Oa.title="Lo stato delle carceri italiane",Q(f,h)});var e=L(n),r=L(e),i=V(L(r),2);er(2),H(r),H(e);var a=V(e,6),o=L(a),s=L(o);uc(s,{}),H(o),H(a);var c=V(a,4),l=L(c),u=L(l);pc(u,{}),H(l),H(c),er(30),H(n),wt(()=>Z(i,"src",`${Ua??""}/logo-carceri.png`)),Q(t,n)}export{Ec as component};
